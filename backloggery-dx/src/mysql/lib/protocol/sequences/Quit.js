var Sequence=require("./Sequence"),Util=require("util"),Packets=require("../packets");function Quit(e,t){t||"function"!=typeof e||(t=e,e={}),Sequence.call(this,e,t),this._started=!1}module.exports=Quit,Util.inherits(Quit,Sequence),Quit.prototype.end=function(e){this._ended||(this._started&&e&&"ECONNRESET"===e.code&&"read"===e.syscall?Sequence.prototype.end.call(this):Sequence.prototype.end.call(this,e))},Quit.prototype.start=function(){this._started=!0,this.emit("packet",new Packets.ComQuitPacket)};