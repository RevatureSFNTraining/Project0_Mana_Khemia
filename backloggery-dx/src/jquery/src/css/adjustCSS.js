define(["../core","../var/rcssNum"],(function(r,e){"use strict";return function(n,s,t,u){var c,i,f=20,o=u?function(){return u.cur()}:function(){return r.css(n,s,"")},a=o(),d=t&&t[3]||(r.cssNumber[s]?"":"px"),m=n.nodeType&&(r.cssNumber[s]||"px"!==d&&+a)&&e.exec(r.css(n,s));if(m&&m[3]!==d){for(a/=2,d=d||m[3],m=+a||1;f--;)r.style(n,s,m+d),(1-i)*(1-(i=o()/a||.5))<=0&&(f=0),m/=i;m*=2,r.style(n,s,m+d),t=t||[]}return t&&(m=+m||+a||0,c=t[1]?m+(t[1]+1)*t[2]:+t[2],u&&(u.unit=d,u.start=m,u.end=c)),c}}));